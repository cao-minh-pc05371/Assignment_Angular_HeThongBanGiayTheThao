<div class="row container product-detail-container" *ngIf="product && variants">
  <div class="col-md-6 product-image-section mb-3 mb-md-0">
    <mat-card class="product-image-card shadow-sm">
      <img mat-card-image [src]="product.image" [alt]="product.name" class="product-image" />
    </mat-card>
  </div>
  <div class="col-md-6 product-info-section">
    <mat-card class="product-info-card shadow-sm p-4">
      <mat-card-header class="d-flex flex-column mb-6">
        <h2 class="product-name text-danger mb-2">{{ product.name }}</h2>
        <h6 class="product-id text-muted">Mã sản phẩm: {{ product.id }}</h6>
      </mat-card-header>
      <hr class="hr">
      <mat-card-content class="product-content">
        <!-- Price -->
        <div class="d-flex align-items-center mb-3">
          <h4 class="me-2 mb-0">Giá sản phẩm:</h4>
          <span class="fw-bold text-success fs-4">{{ product.price | currency: 'VND':'symbol':'1.0-0' }}</span>
        </div>
        <!-- Size and Color -->
        <div class="justify-content-between mb-3">
          <h5 class="mb-2">Kích cỡ:</h5>
          <div class="d-flex gap-2">
            <div *ngFor="let variant of variants" class="form-check">
              <input class="form-check-input" type="radio" name="size" [id]="variant.size?.size_label"
                [value]="variant.size?.size_label" [(ngModel)]="selectedSize">
              <label class="form-check-label" [for]="variant.size?.size_label">
                {{ variant.size?.size_label }}
              </label>
            </div>
          </div>
          <!-- Màu -->
          <h5 class="mb-2">Màu:</h5>
          <div class="d-flex gap-2">
            <div *ngFor="let variant of variants" class="form-check">
              <input class="form-check-input" type="radio" name="color" [id]="variant.color?.color_name"
                [value]="variant.color?.color_name" [(ngModel)]="selectedColor">
              <label class="form-check-label" [for]="variant.color?.color_name">
                {{ variant.color?.color_name }}
              </label>
            </div>
          </div>
        </div>
        <!-- Quantity -->
        <div class="form-group d-flex align-items-center">
          <h5 class="me-2 mb-4">Số lượng:</h5>
          <mat-form-field appearance="outline" class="quantity-input">
            <input matInput type="number" [(ngModel)]="quantity" min="1" placeholder="Nhập số lượng" />
          </mat-form-field>
        </div>
        <hr>
        <!-- Description -->
        <div class="description-section mb-3">
          <h4 class="">Mô tả sản phẩm</h4>
          <p class="product-description text-muted">
            {{ product.description }}
          </p>
        </div>
      </mat-card-content>
      <!-- Buttons -->
      <mat-card-actions class="d-flex justify-content-center gap-3">
        <button mat-raised-button color="primary" class="add-to-cart-btn" (click)="handleAddToCart()">
          <mat-icon>add_shopping_cart</mat-icon> Thêm vào giỏ hàng
        </button>
        <button mat-raised-button color="accent" class="buy-now-btn">
          <mat-icon>flash_on</mat-icon> Mua ngay
        </button>
      </mat-card-actions>
    </mat-card>
  </div>
</div>
